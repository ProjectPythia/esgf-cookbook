{"version":2,"kind":"Notebook","sha256":"c90031a9a3a3e4558edf64623381bb809d14633995a8f2b6756b356e2752a6dc","slug":"notebooks.rooki-enso-nonlinear","location":"/notebooks/rooki_enso_nonlinear.ipynb","dependencies":[],"frontmatter":{"title":"Compute Demo: ENSO nonlinearity index with CMIP6 data","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/esgf-cookbook","copyright":"2023","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/esgf-cookbook/blob/HEAD/notebooks/rooki_enso_nonlinear.ipynb","thumbnail":"/esgf-cookbook/_preview/48/build/alpha_output-0c195c612fa7de9fc76ca7dd686686b9.png","exports":[{"format":"ipynb","filename":"rooki_enso_nonlinear.ipynb","url":"/esgf-cookbook/_preview/48/build/rooki_enso_nonlinear-480a73d0b793cec3a8aa3f870bfee440.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Compute Demo: ENSO nonlinearity index with CMIP6 data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gI2TTKjy9j"}],"identifier":"compute-demo-enso-nonlinearity-index-with-cmip6-data","label":"Compute Demo: ENSO nonlinearity index with CMIP6 data","html_id":"compute-demo-enso-nonlinearity-index-with-cmip6-data","implicit":true,"key":"MGQ24rbL3C"}],"visibility":"show","key":"jIMfvGuziI"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"/esgf-cookbook/_preview/48/build/alpha_output-0c195c612fa7de9fc76ca7dd686686b9.png","alt":"Alpha output","key":"u6N0sOL7KM","urlSource":"images/alpha_output.png"}],"key":"JBXgjQcqmN"}],"key":"sAxbqz8X9H"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BdLE8uNTR2"}],"key":"aqZCGxaLhB"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LOwnK2bohH"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"jFNpmtDJeo"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"In this demo we combine multiple multiple tools described in previous cookbooks to subset, regrid and process CMIP6 data. We will be computing a measure of ENSO nonlinearity by computing the EOFs of the pacific sea surface temperature anomalies. This measure is particularly useful for characterizing models by their ability to represent different ENSO extremes (Karamperidou et al., 2017).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"HcmVZFuMuG"}],"key":"QNfN3aTRKp"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The process we are going to follow in this demo is:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PCOYGlJudV"}],"key":"aCjmj12LJL"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Find the CMIP6 data we need using intake-esgf","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"gpxBNQS0nU"}],"key":"XMnSAvARYG"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Subset the data and regrid it to a common grid using Rooki","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"YPvyqeXXtg"}],"key":"mHBhe9aJOf"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Load the datasets into xarray and perform the computations","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"RMu3XfWKLl"}],"key":"D5mBnuYboh"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Plot the results","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"gk36qlh35r"}],"key":"vbsIPiFyfz"}],"key":"WmdPdN5a5j"}],"visibility":"show","key":"VueSxiDpZ1"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q96aOvKt4I"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"tYcahPaw1f"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UXODp1aUHd"}],"key":"e0ZjeYzqLE"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZLaZXdXP0U"}],"key":"TR18hGI2zL"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"SJj7CZeQPX"}],"key":"MJ2gLwjkKX"}],"key":"ya1gXD6wgV"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/xarray/xarray-intro.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Intro to Xarray","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"v6xqxJAVOD"}],"urlSource":"https://foundations.projectpythia.org/core/xarray/xarray-intro.html","key":"qOJ1SefB52"}],"key":"xqkUzSTkR2"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"sup4bAsKxT"}],"key":"Xtf44NGlmT"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"How to use xarray to work with NetCDF data","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ieLIbcktaJ"}],"key":"oBiz3I02hw"}],"key":"rHyIvJgkQp"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"/notebooks/intro-search","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Intro to Intake-ESGF","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"F7gE3vUIBt"}],"urlSource":"intro-search","dataUrl":"/notebooks.intro-search.json","internal":true,"protocol":"file","key":"MOlNBG6I6w"}],"key":"TrfHeNoChy"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Necessary","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"kUneNX5Z5p"}],"key":"PKVEFE2Jhw"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"How to configure a search and use output","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"M4GVbhbVbk"}],"key":"nVZo7f2Nqv"}],"key":"GecRw86PPX"},{"type":"tableRow","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"link","url":"/notebooks/rooki","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Intro to Rooki","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"ZpzAqxyrld"}],"urlSource":"rooki","dataUrl":"/notebooks.rooki.json","internal":true,"protocol":"file","key":"ubofvVsB68"}],"key":"r2kpBan0rP"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"RM3wpKJHhq"}],"key":"kp1aoSxoZt"},{"type":"tableCell","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"How to initialize and run rooki","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"AyNQup73TC"}],"key":"Su61iupwiD"}],"key":"OpFri7PVhg"},{"type":"tableRow","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://projectpythia.org/eofs-cookbook/notebooks/eof-intro.html","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Intro to EOFs","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"mgk6r6e6Yk"}],"urlSource":"https://projectpythia.org/eofs-cookbook/notebooks/eof-intro.html","key":"E6AI9tarib"}],"key":"U9wKl4Htp5"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"O1vcVrErBx"}],"key":"gMxZCynYUr"},{"type":"tableCell","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Understanding of EOFs","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"XekHMev203"}],"key":"IJtJMF3p3A"}],"key":"YqIP1bCuPz"}],"key":"su7xKF34iu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"at5YInBeEe"}],"key":"QdmyBeOa2t"},{"type":"text","value":": 20 minutes","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"xCBALgPegp"}],"key":"qpC1RGXfjZ"}],"key":"RxnVYgQJ4q"}],"visibility":"show","key":"Gum3FYqFof"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nyrUWbC45u"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"KxEH1NnfZ1"}],"key":"S7C03Upseb"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import os\nimport intake_esgf\n\n# Run this on the DKRZ node in Germany, using the ESGF1 index node at LLNL\nos.environ[\"ROOK_URL\"] = \"http://rook.dkrz.de/wps\"\nintake_esgf.conf.set(indices={\"anl-dev\": False,\n                               \"ornl-dev\": False,\n                               \"esgf-node.llnl.gov\": True})\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport numpy.polynomial.polynomial as poly\nimport xarray as xr\nimport xeofs as xe\nfrom intake_esgf import ESGFCatalog\nfrom rooki import operators as ops\nfrom rooki import rooki","visibility":"show","key":"isXhAgcypI"},{"type":"output","id":"51pvLnNOiQk41MO8sYeb0","data":[],"visibility":"show","key":"kBHzvJdlQv"}],"visibility":"show","key":"YolL8fhpzU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Retrieve subset of CMIP6 data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"htVc1VAU1N"}],"identifier":"retrieve-subset-of-cmip6-data","label":"Retrieve subset of CMIP6 data","html_id":"retrieve-subset-of-cmip6-data","implicit":true,"key":"u4ZQPAvstf"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The CMIP6 dataset is identified by a dataset-id. Using intake-esgf we can query the ESGF database for the variables and models we are interested in. For this demo we are interested in the tos (sea surface temperature) variable for the historical runs. Also, for sake of simplicity we will only query a subset of the models available.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DSfdOAtXaU"}],"key":"nc57o7zEY4"}],"key":"lQvu0o56W7"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"cat = ESGFCatalog()\ncat.search(\n    experiment_id=[\"historical\"],\n    variable_id=[\"tos\"],\n    table_id=[\"Omon\"],\n    project=[\"CMIP6\"],\n    grid_label=[\"gn\"],\n    source_id=[\n        \"CAMS-CSM1-0\",\n        \"FGOALS-g3\",\n        \"CMCC-CM2-SR5\",\n        \"CNRM-CM6-1\",\n        \"CNRM-ESM2-1\",\n        \"CESM2\",\n    ],\n)\ncat.remove_ensembles()\nprint(cat)","visibility":"show","key":"NBHPYQzoB0"},{"type":"output","id":"REWyrq-lECPupmmGVuHA7","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"   Searching indices:   0%|          |0/1 [       ?index/s]","content_type":"text/plain"},"application/vnd.jupyter.widget-view+json":{"content":"{\"version_major\":2,\"version_minor\":0,\"model_id\":\"b2115079443e4c039334b37cbde8fb1c\"}","content_type":"application/vnd.jupyter.widget-view+json"}}},{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/esgf-cookbook-dev/lib/python3.11/site-packages/intake_esgf/catalog.py:316: UserWarning: SolrESGFIndex('esgf-node.llnl.gov') failed to return a response, results may be incomplete\n  warnings.warn(\n"},{"output_type":"error","traceback":"\u001b[31m---------------------------------------------------------------------------\u001b[39m\n\u001b[31mNoSearchResults\u001b[39m                           Traceback (most recent call last)\n\u001b[36mCell\u001b[39m\u001b[36m \u001b[39m\u001b[32mIn[2]\u001b[39m\u001b[32m, line 2\u001b[39m\n\u001b[32m      1\u001b[39m cat = ESGFCatalog()\n\u001b[32m----> \u001b[39m\u001b[32m2\u001b[39m \u001b[43mcat\u001b[49m\u001b[43m.\u001b[49m\u001b[43msearch\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m      3\u001b[39m \u001b[43m    \u001b[49m\u001b[43mexperiment_id\u001b[49m\u001b[43m=\u001b[49m\u001b[43m[\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mhistorical\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m      4\u001b[39m \u001b[43m    \u001b[49m\u001b[43mvariable_id\u001b[49m\u001b[43m=\u001b[49m\u001b[43m[\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mtos\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m      5\u001b[39m \u001b[43m    \u001b[49m\u001b[43mtable_id\u001b[49m\u001b[43m=\u001b[49m\u001b[43m[\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mOmon\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m      6\u001b[39m \u001b[43m    \u001b[49m\u001b[43mproject\u001b[49m\u001b[43m=\u001b[49m\u001b[43m[\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mCMIP6\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m      7\u001b[39m \u001b[43m    \u001b[49m\u001b[43mgrid_label\u001b[49m\u001b[43m=\u001b[49m\u001b[43m[\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mgn\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m      8\u001b[39m \u001b[43m    \u001b[49m\u001b[43msource_id\u001b[49m\u001b[43m=\u001b[49m\u001b[43m[\u001b[49m\n\u001b[32m      9\u001b[39m \u001b[43m        \u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mCAMS-CSM1-0\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m     10\u001b[39m \u001b[43m        \u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mFGOALS-g3\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m     11\u001b[39m \u001b[43m        \u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mCMCC-CM2-SR5\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m     12\u001b[39m \u001b[43m        \u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mCNRM-CM6-1\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m     13\u001b[39m \u001b[43m        \u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mCNRM-ESM2-1\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m     14\u001b[39m \u001b[43m        \u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mCESM2\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m     15\u001b[39m \u001b[43m    \u001b[49m\u001b[43m]\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m     16\u001b[39m \u001b[43m)\u001b[49m\n\u001b[32m     17\u001b[39m cat.remove_ensembles()\n\u001b[32m     18\u001b[39m \u001b[38;5;28mprint\u001b[39m(cat)\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/esgf-cookbook-dev/lib/python3.11/site-packages/intake_esgf/catalog.py:354\u001b[39m, in \u001b[36mESGFCatalog.search\u001b[39m\u001b[34m(self, quiet, file_start, file_end, **search)\u001b[39m\n\u001b[32m    352\u001b[39m search_time = time.time()\n\u001b[32m    353\u001b[39m dfs = ThreadPool(\u001b[38;5;28mlen\u001b[39m(\u001b[38;5;28mself\u001b[39m.indices)).imap_unordered(_search, \u001b[38;5;28mself\u001b[39m.indices)\n\u001b[32m--> \u001b[39m\u001b[32m354\u001b[39m \u001b[38;5;28mself\u001b[39m.df = \u001b[43mbase\u001b[49m\u001b[43m.\u001b[49m\u001b[43mcombine_results\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    355\u001b[39m \u001b[43m    \u001b[49m\u001b[43mtqdm\u001b[49m\u001b[43m(\u001b[49m\n\u001b[32m    356\u001b[39m \u001b[43m        \u001b[49m\u001b[43mdfs\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    357\u001b[39m \u001b[43m        \u001b[49m\u001b[43mdisable\u001b[49m\u001b[43m=\u001b[49m\u001b[43mquiet\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    358\u001b[39m \u001b[43m        \u001b[49m\u001b[43mbar_format\u001b[49m\u001b[43m=\u001b[49m\u001b[43mbase\u001b[49m\u001b[43m.\u001b[49m\u001b[43mbar_format\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    359\u001b[39m \u001b[43m        \u001b[49m\u001b[43munit\u001b[49m\u001b[43m=\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mindex\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m    360\u001b[39m \u001b[43m        \u001b[49m\u001b[43munit_scale\u001b[49m\u001b[43m=\u001b[49m\u001b[38;5;28;43;01mFalse\u001b[39;49;00m\u001b[43m,\u001b[49m\n\u001b[32m    361\u001b[39m \u001b[43m        \u001b[49m\u001b[43mdesc\u001b[49m\u001b[43m=\u001b[49m\u001b[33;43m\"\u001b[39;49m\u001b[33;43mSearching indices\u001b[39;49m\u001b[33;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\n\u001b[32m    362\u001b[39m \u001b[43m        \u001b[49m\u001b[43mascii\u001b[49m\u001b[43m=\u001b[49m\u001b[38;5;28;43;01mFalse\u001b[39;49;00m\u001b[43m,\u001b[49m\n\u001b[32m    363\u001b[39m \u001b[43m        \u001b[49m\u001b[43mtotal\u001b[49m\u001b[43m=\u001b[49m\u001b[38;5;28;43mlen\u001b[39;49m\u001b[43m(\u001b[49m\u001b[38;5;28;43mself\u001b[39;49m\u001b[43m.\u001b[49m\u001b[43mindices\u001b[49m\u001b[43m)\u001b[49m\u001b[43m,\u001b[49m\n\u001b[32m    364\u001b[39m \u001b[43m    \u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    365\u001b[39m \u001b[43m\u001b[49m\u001b[43m)\u001b[49m\n\u001b[32m    366\u001b[39m \u001b[38;5;28mself\u001b[39m._set_project()\n\u001b[32m    368\u001b[39m \u001b[38;5;66;03m# even though we are using latest=True, because the search is distributed, we\u001b[39;00m\n\u001b[32m    369\u001b[39m \u001b[38;5;66;03m# may have different versions from different indices.\u001b[39;00m\n\n\u001b[36mFile \u001b[39m\u001b[32m~/micromamba/envs/esgf-cookbook-dev/lib/python3.11/site-packages/intake_esgf/base.py:248\u001b[39m, in \u001b[36mcombine_results\u001b[39m\u001b[34m(dfs)\u001b[39m\n\u001b[32m    246\u001b[39m \u001b[38;5;28;01mif\u001b[39;00m \u001b[38;5;28mlen\u001b[39m(df) == \u001b[32m0\u001b[39m:\n\u001b[32m    247\u001b[39m     logger.info(\u001b[33m\"\u001b[39m\u001b[38;5;130;01m\\x1b\u001b[39;00m\u001b[33m[36;32msearch end \u001b[39m\u001b[38;5;130;01m\\x1b\u001b[39;00m\u001b[33m[91;20mno results\u001b[39m\u001b[38;5;130;01m\\033\u001b[39;00m\u001b[33m[0m\u001b[39m\u001b[33m\"\u001b[39m)\n\u001b[32m--> \u001b[39m\u001b[32m248\u001b[39m     \u001b[38;5;28;01mraise\u001b[39;00m NoSearchResults()\n\u001b[32m    249\u001b[39m \u001b[38;5;66;03m# retrieve project information about how to combine results\u001b[39;00m\n\u001b[32m    250\u001b[39m project_id = df[\u001b[33m\"\u001b[39m\u001b[33mproject\u001b[39m\u001b[33m\"\u001b[39m].unique()\n\n\u001b[31mNoSearchResults\u001b[39m: ","ename":"NoSearchResults","evalue":""}],"visibility":"show","key":"MfY70bFrkq"}],"visibility":"show","key":"fAgQKxyQHX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Once the catalog has been queried, we have to do some manipulation in pandas to keep only the dataset_id. This has to be done because the same data has multiple locations online, and these get appended at the end of the dataset_id. Rookie only accepts the dataset_id without the online location, so we get rid of it in the next step.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tr1jGlBEI9"}],"key":"Aa4viFyEkb"}],"key":"XBn9a3BoqK"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def keep_ds_id(ds):\n    return ds[0].split(\"|\")[0]","visibility":"show","key":"MCOLa3lfBg"},{"type":"output","id":"8QuZY1KT9DgHO7jbnaLmW","data":[],"visibility":"show","key":"Vj65vBWSPG"}],"visibility":"show","key":"xEo98UcY3z"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"collections = cat.df.id.apply(keep_ds_id).to_list()\ncollections","visibility":"show","key":"GlfTuhiX2R"},{"type":"output","id":"MrVuWdCjYp42npG_hLo5W","data":[],"visibility":"show","key":"IoGPziYUVX"}],"visibility":"show","key":"swYymuk5LZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We are left with a list of dataset_ids that Rookie can accept as input for the next step.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ocBWnrZzfh"}],"key":"Th0k4ETZ3H"}],"key":"jZUn24kvpv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Subset and regrid the data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fyXkSqPELc"}],"identifier":"subset-and-regrid-the-data","label":"Subset and regrid the data","html_id":"subset-and-regrid-the-data","implicit":true,"key":"uPJXKjsCMT"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We define a function that will do the subset and regridding for us for each of the dataset_ids we have. The function will take the dataset_id as input and then use Rookie functions to select 100 years of data for the tos variable in the Pacific Ocean region. We don’t need high resolution data for this particular use, so 2.5 degree resolution is enough.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"r4mFDpZ1R1"}],"key":"fb1ASQtVXA"}],"key":"oQfdhub2PS"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def get_pacific_ocean(dataset_id):\n    wf = ops.Regrid(\n        ops.Subset(\n            ops.Input(\"tos\", [dataset_id]),\n            time=\"1900-01-01/2000-01-31\",\n            area=\"100,-20,280,20\",\n        ),\n        method=\"nearest_s2d\",\n        grid=\"2pt5deg\",\n    )\n    resp = wf.orchestrate()\n    if resp.ok:\n        print(f\"{resp.size_in_mb=}\")\n        ds = resp.datasets()[0]\n    else:\n        ds = xr.Dataset()\n    return ds","visibility":"show","key":"M8Ib3uJGnW"},{"type":"output","id":"lQZebaO4ewjmCxqBCQwkI","data":[],"visibility":"show","key":"BCP7FHvnGG"}],"visibility":"show","key":"cU5DCYEXxr"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"sst_data = {dset: get_pacific_ocean(dset) for dset in collections}","visibility":"show","key":"X7GVqjnfZs"},{"type":"output","id":"XZj4RS1EXFR1qd5KWuOm8","data":[],"visibility":"show","key":"a1kpuUizuh"}],"visibility":"show","key":"RomwwpiVlQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"ENSO nonlinearity measure: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZQJiWCx50h"},{"type":"inlineCode","value":"alpha","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"euoCjsCMPR"},{"type":"text","value":" value","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"udAQRCvxY0"}],"identifier":"enso-nonlinearity-measure-alpha-value","label":"ENSO nonlinearity measure: alpha value","html_id":"enso-nonlinearity-measure-alpha-value","implicit":true,"key":"mydqP2CcOX"}],"key":"xtXztu9Coc"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This part of the demo is computation heavy. You can refer to Takahashi et al. (2011) and Karamperidou et al. (2017) for more details on the usefulness and computation of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ieiRjSAAcR"},{"type":"inlineCode","value":"alpha","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f9LUKachnG"},{"type":"text","value":" parameter.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fxNaBsMbjO"}],"key":"MWjJByiapI"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"eqyjyF1ELp"},{"type":"inlineCode","value":"alpha","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Ye163BKGZM"},{"type":"text","value":" parameter is computed by doing a quadratic fit to the first two EOFs for the DJF season of the SST anomalies in the Pacific region. We are looking to obtain two EOFs modes that represent the Eastern and central pacific SST patterns, which is why we include a correction factor to account for the fact the sometimes the EOFs come with the opposite sign.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZIAmsdkGrj"}],"key":"NDgowoL5CY"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The higher the value of ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"WzAqdQdv5R"},{"type":"inlineCode","value":"alpha","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"b1hQuZwXMG"},{"type":"text","value":", the more nonlinear (or extreme) ENSO events can be represented by the model. Likewise, a model with lower ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"yxVaIwaVAk"},{"type":"inlineCode","value":"alpha","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"VU2NwyVJHh"},{"type":"text","value":" values will have a harder time representing extreme ENSO events, making it not suitable for climate studies of ENSO in a warming climate (Cai et al., 2018, 2021).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"onkxAKDjKS"}],"key":"w39ZMMar2Z"}],"key":"t9hlPggLef"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We are looking to obtain data that can reproduce a figure similar to the one below (taken from Karamperiou et al., 2017):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nR9vLxP690"}],"key":"rRnfLZbWOT"}],"key":"hxBDMQrhpO"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","style":{"width":"600px"},"url":"/esgf-cookbook/_preview/48/build/alpha_example-164a0d84499f06bfe8838f4809d3a677.png","alt":"Alpha parameter","key":"GuMN8x9KAn","urlSource":"images/alpha_example.png"}],"key":"qHjUwQUrZf"}],"key":"wkGLVXsu7n"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Each of the “wings” of this boomerang-shaped distribution represents a different ENSO extreme, with the left (right) wing representing the extreme central (eastern) pacific El Niño events. More details on Takahashi et al. (2011).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FVOcDbLeSv"}],"key":"Egd0J1VxdL"}],"key":"ZFc7pwHNE6"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_alpha(pc1, pc2):\n    coefs = poly.polyfit(pc1, pc2, deg=2)\n    xfit = np.arange(pc1.min(), pc1.max() + 0.1, 0.1)\n    fit = poly.polyval(xfit, coefs)\n    return coefs[-1], xfit, fit\n\n\ndef correction_factor(model):\n    _eofs = model.components()\n    _subset = dict(lat=slice(-5, 5), lon=slice(140, 180))\n    corr_factor = np.zeros(2)\n    corr_factor[0] = 1 if _eofs.sel(mode=1, **_subset).mean() > 0 else -1\n    corr_factor[1] = 1 if _eofs.sel(mode=2, **_subset).mean() > 0 else -1\n    return xr.DataArray(corr_factor, coords=[(\"mode\", [1, 2])])\n\n\ndef compute_index(ds):\n    tos = ds.tos.sel(lat=slice(-20, 20), lon=slice(100, 280))\n    tos_anom = tos.groupby(\"time.month\").apply(lambda x: x - x.mean(\"time\"))\n\n    # Compute Eofs\n    model = xe.models.EOF(n_modes=2, use_coslat=True)\n    model.fit(tos_anom, dim=\"time\")\n    corr_factor = correction_factor(model)\n    # eofs = s_model.components()\n    scale_factor = model.singular_values() / np.sqrt(model.explained_variance())\n    pcs = (\n        model.scores().convert_calendar(\"standard\", align_on=\"date\")\n        * scale_factor\n        * corr_factor\n    )\n\n    pc1 = pcs.sel(mode=1)\n    pc1 = pc1.sel(time=pc1.time.dt.month.isin([12, 1, 2]))\n    pc1 = pc1.resample(time=\"QS-DEC\").mean().dropna(\"time\")\n\n    pc2 = pcs.sel(mode=2)\n    pc2 = pc2.sel(time=pc2.time.dt.month.isin([12, 1, 2]))\n    pc2 = pc2.resample(time=\"QS-DEC\").mean().dropna(\"time\")\n\n    alpha, xfit, fit = compute_alpha(pc1, pc2)\n\n    return pc1, pc2, alpha, xfit, fit","visibility":"show","key":"XLUmZCpedW"},{"type":"output","id":"c7MhBrbMpqo1c7qneQXMU","data":[],"visibility":"show","key":"E5Catq1FkQ"}],"visibility":"show","key":"nPj3uz7X44"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Now we can compute the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lWmsqR5gyb"},{"type":"inlineCode","value":"alpha","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PMoorcdWcJ"},{"type":"text","value":" parameter for each of the models we have selected.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yLaiXg7N5S"}],"key":"RLJnzqyyWs"}],"key":"bOW5ITS7Qa"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"alpha_fits = {}\nfor key, item in sst_data.items():\n    if len(item.variables) == 0:\n        continue\n    alpha_fits[key] = compute_index(item)","visibility":"show","key":"vDb5gJuCOU"},{"type":"output","id":"t3T_QlC9-EFQASO-CSKqW","data":[],"visibility":"show","key":"bdwSUYF4MF"}],"visibility":"show","key":"AlZpjDZ5O7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot the results","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xua3VHpmCx"}],"identifier":"plot-the-results","label":"Plot the results","html_id":"plot-the-results","implicit":true,"key":"yiMD03SWeM"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Finally, we can plot the results of the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"R3rpIBHN3q"},{"type":"inlineCode","value":"alpha","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Q3036YfeBv"},{"type":"text","value":" parameter for each of the models we have selected. This will give us an idea of how well the models represent different ENSO extremes.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QayP4GEIO9"}],"key":"U0kWFfdgv2"}],"key":"UmymbZF6Dn"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig, axs = plt.subplots(nrows=3, ncols=2, figsize=(8, 12))\naxs = axs.ravel()\nfor num, (ds, (pc1, pc2, alpha, xfit, fit)) in enumerate(alpha_fits.items()):\n    ax = axs[num]\n    ax.axhline(0, color=\"k\", linestyle=\"--\", alpha=0.2)\n    ax.axvline(0, color=\"k\", linestyle=\"--\", alpha=0.2)\n\n    # draw a line 45 degrees\n    x = np.linspace(-6, 6, 100)\n    y = x\n    ax.plot(x, y, color=\"k\", alpha=0.5, lw=1)\n    ax.plot(-x, y, color=\"k\", alpha=0.5, lw=1)\n\n    ax.scatter(\n        pc1,\n        pc2,\n        s=8,\n        marker=\"o\",\n        c=\"w\",\n        edgecolors=\"k\",\n        linewidths=0.5,\n    )\n\n    ax.plot(xfit, fit, c=\"r\", label=f\"$\\\\alpha=${alpha:.2f}\")\n\n    ax.set_xlabel(\"PC1\")\n    ax.set_ylabel(\"PC2\")\n\n    ax.set_title(ds.split(\".\")[3])\n\n    ax.set_xlim(-4, 4)\n    ax.set_ylim(-4, 4)\n    ax.legend()\nfig.subplots_adjust(hspace=0.3)","visibility":"show","key":"DhdEFeD0W6"},{"type":"output","id":"z3P7k1AIasP__u_BRrWTv","data":[],"visibility":"show","key":"P5tMbdaqfO"}],"visibility":"show","key":"PFwFl9UnKW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"From this example, we can see that from the subset of models we have selected, the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lBWvrUBtnv"},{"type":"inlineCode","value":"alpha","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u6ilBM8fnX"},{"type":"text","value":" parameter is higher for CMCC-CM2-SR5 compared to the other models as the “boomerang” shape is better represented in this model. This indicates that this model is better at representing extreme ENSO events compared to the other models.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X4liUu9vCP"}],"key":"jhsIks1Xxj"}],"key":"I6zpaNdMoD"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cjyiBtoZup"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"n0XIis3bbR"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this notebook, we used intake-esgf with Rooki Python client to retrieve a subset of a CMIP6 dataset. The subset and regrid operations are executed remotely on a Rook subsetting service (using OGC API and xarray/clisops). The dataset is analyzed using xeofs to extract a measurement used in ENSO research. We also showed that remote operators can be chained to be executed in a single workflow operation.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"TwsmxMaEAl"}],"key":"Bub2q9Cs44"},{"type":"heading","depth":2,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Resources","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"L6f1WU9e2i"}],"identifier":"resources","label":"Resources","html_id":"resources","implicit":true,"key":"aLoE2oErtW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://github.com/roocs","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Roocs on GitHub","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"iv7crNusNo"}],"urlSource":"https://github.com/roocs","error":true,"key":"Yu79fLRkME"}],"key":"QshgOyEnbJ"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"https://cds.climate.copernicus.eu/","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Copernicus Climate Data Store","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"pNNgVKhi1K"}],"urlSource":"https://cds.climate.copernicus.eu/","key":"UvoqV5T67K"}],"key":"MIV8p5Q5sI"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"link","url":"https://stacspec.org/en","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"STAC","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"SEbS2bWJIC"}],"urlSource":"https://stacspec.org/en","key":"VBpoLrf5Bp"}],"key":"ziFwWBeyqu"}],"key":"rqmHAyjvZp"},{"type":"heading","depth":2,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"References","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"sTYWy9UP7r"}],"identifier":"references","label":"References","html_id":"references","implicit":true,"key":"Dy7dQiKHIV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Cai, W., Santoso, A., Collins, M., Dewitte, B., Karamperidou, C., Kug, J.-S., Lengaigne, M., McPhaden, M. J., Stuecker, M. F., Taschetto, A. S., Timmermann, A., Wu, L., Yeh, S.-W., Wang, G., Ng, B., Jia, F., Yang, Y., Ying, J., Zheng, X.-T., … Zhong, W. (2021). Changing El Niño–Southern Oscillation in a warming climate. Nature Reviews Earth & Environment, 2(9), 628–644. ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"OOVQKWx2gL"},{"type":"cite","url":"https://doi.org/10.1038/s43017-021-00199-z","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Cai ","key":"SS6KsrlHT8"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"NSk2SHNjg5"}],"key":"GSBMHLeYN1"},{"type":"text","value":" (2021)","key":"bmahVNqhLV"}],"kind":"narrative","label":"Cai_2021","identifier":"https://doi.org/10.1038/s43017-021-00199-z","enumerator":"1","key":"NOUNF2HJpu"}],"key":"smu2FYekJO"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Cai, W., Wang, G., Dewitte, B., Wu, L., Santoso, A., Takahashi, K., Yang, Y., Carréric, A., & McPhaden, M. J. (2018). Increased variability of eastern Pacific El Niño under greenhouse warming. Nature, 564(7735), 201–206. ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"xCVYR3Qc3T"},{"type":"cite","url":"https://doi.org/10.1038/s41586-018-0776-9","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Cai ","key":"L7KQKIlyho"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"HPVxdG18e9"}],"key":"ZHbFsXfm1D"},{"type":"text","value":" (2018)","key":"Boc9vcYHI4"}],"kind":"narrative","label":"Cai_2018","identifier":"https://doi.org/10.1038/s41586-018-0776-9","enumerator":"2","key":"Yro1pez7NG"}],"key":"QhB1YLYUh2"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Karamperidou, C., Jin, F.-F., & Conroy, J. L. (2017). The importance of ENSO nonlinearities in tropical pacific response to external forcing. Climate Dynamics, 49(7), 2695–2704. ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"b5D5iW25rl"},{"type":"cite","url":"https://doi.org/10.1007/s00382-016-3475-y","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Karamperidou ","key":"QJEChHGNbs"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"oMNKmx0Io2"}],"key":"oG3pPWOs58"},{"type":"text","value":" (2016)","key":"yb1SWNHlst"}],"kind":"narrative","label":"Karamperidou_2016","identifier":"https://doi.org/10.1007/s00382-016-3475-y","enumerator":"3","key":"u4IpGQiIua"}],"key":"To5f7RAG66"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Takahashi, K., Montecinos, A., Goubanova, K., & Dewitte, B. (2011). ENSO regimes: Reinterpreting the canonical and Modoki El Niño. Geophysical Research Letters, 38(10). ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BuSNr0fQtH"},{"type":"cite","url":"https://doi.org/10.1029/2011GL047364","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Takahashi ","key":"G01Zh4Azw2"},{"type":"emphasis","children":[{"type":"text","value":"et al.","key":"aYfJBRXY3G"}],"key":"e0DykBdzZS"},{"type":"text","value":" (2011)","key":"BNJSTJ05Hr"}],"kind":"narrative","label":"Takahashi_2011","identifier":"https://doi.org/10.1029/2011GL047364","enumerator":"4","key":"p0WRgoVV6J"}],"key":"C9LRDxoUJQ"}],"key":"tleb8YjXq2"}],"visibility":"show","key":"GHiPsWReDt"}],"key":"fDGKX88DGh"},"references":{"cite":{"order":["Cai_2021","Cai_2018","Karamperidou_2016","Takahashi_2011"],"data":{"Cai_2021":{"label":"Cai_2021","enumerator":"1","doi":"10.1038/s43017-021-00199-z","html":"Cai, W., Santoso, A., Collins, M., Dewitte, B., Karamperidou, C., Kug, J.-S., Lengaigne, M., McPhaden, M. J., Stuecker, M. F., Taschetto, A. S., Timmermann, A., Wu, L., Yeh, S.-W., Wang, G., Ng, B., Jia, F., Yang, Y., Ying, J., Zheng, X.-T., … Zhong, W. (2021). Changing El Niño–Southern Oscillation in a warming climate. <i>Nature Reviews Earth &amp; Environment</i>, <i>2</i>(9), 628–644. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1038/s43017-021-00199-z\">10.1038/s43017-021-00199-z</a>","url":"https://doi.org/10.1038/s43017-021-00199-z"},"Cai_2018":{"label":"Cai_2018","enumerator":"2","doi":"10.1038/s41586-018-0776-9","html":"Cai, W., Wang, G., Dewitte, B., Wu, L., Santoso, A., Takahashi, K., Yang, Y., Carréric, A., & McPhaden, M. J. (2018). Increased variability of eastern Pacific El Niño under greenhouse warming. <i>Nature</i>, <i>564</i>(7735), 201–206. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1038/s41586-018-0776-9\">10.1038/s41586-018-0776-9</a>","url":"https://doi.org/10.1038/s41586-018-0776-9"},"Karamperidou_2016":{"label":"Karamperidou_2016","enumerator":"3","doi":"10.1007/s00382-016-3475-y","html":"Karamperidou, C., Jin, F.-F., & Conroy, J. L. (2016). The importance of ENSO nonlinearities in tropical pacific response to external forcing. <i>Climate Dynamics</i>, <i>49</i>(7–8), 2695–2704. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1007/s00382-016-3475-y\">10.1007/s00382-016-3475-y</a>","url":"https://doi.org/10.1007/s00382-016-3475-y"},"Takahashi_2011":{"label":"Takahashi_2011","enumerator":"4","doi":"10.1029/2011gl047364","html":"Takahashi, K., Montecinos, A., Goubanova, K., & Dewitte, B. (2011). ENSO regimes: Reinterpreting the canonical and Modoki El Niño: REINTERPRETING ENSO MODES. <i>Geophysical Research Letters</i>, <i>38</i>(10), n/a-n/a. <a target=\"_blank\" rel=\"noreferrer\" href=\"https://doi.org/10.1029/2011gl047364\">10.1029/2011gl047364</a>","url":"https://doi.org/10.1029/2011gl047364"}}}},"footer":{"navigation":{"prev":{"title":"Using intake-esgf with rooki","url":"/notebooks/use-intake-esgf-with-rooki","group":"Searching"},"next":{"title":"Demo: Regridding and Plotting with Rooki and Cartopy","url":"/notebooks/ex-regrid-plot","group":"Workflows"}}},"domain":"http://localhost:3000"}