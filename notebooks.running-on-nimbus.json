{"version":2,"kind":"Article","sha256":"6795d8e518509b7beab771fd5c42c3ec29410ddaa878e9bafdb36b55a6c388a3","slug":"notebooks.running-on-nimbus","location":"/notebooks/running-on-nimbus.md","dependencies":[],"frontmatter":{"title":"Running Notebooks on Nimbus","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Project Pythia Community","given":"Project Pythia","family":"Community"},"name":"Project Pythia Community","url":"https://projectpythia.org/","id":"contributors-myst-generated-uid-0"}],"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true},"code":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true}},"github":"https://github.com/projectpythia/esgf-cookbook","copyright":"2023","affiliations":[{"id":"UAlbany","name":"University at Albany (SUNY)","department":"Atmospheric and Environmental Sciences","url":"https://www.albany.edu/daes"},{"id":"CISL","name":"NSF National Center for Atmospheric Research","department":"Computational and Information Systems Lab","url":"https://www.cisl.ucar.edu"},{"id":"Unidata","name":"NSF Unidata","url":"https://www.unidata.ucar.edu"},{"id":"Argonne","name":"Argonne National Laboratory","department":"Environmental Science Division","url":"https://www.anl.gov/evs"},{"id":"CarbonPlan","name":"CarbonPlan","url":"https://carbonplan.org"},{"id":"NVIDIA","name":"NVIDIA Corporation","url":"https://www.nvidia.com/"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/esgf-cookbook/blob/main/notebooks/running-on-nimbus.md","exports":[{"format":"md","filename":"running-on-nimbus.md","url":"/esgf-cookbook/build/running-on-nimbus-f66557613111adbff7e725ded9c26a92.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Interested in running your notebooks on ESGF infrastructure? Please follow these steps!","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lbeHR2TyIq"}],"key":"fi1EB9NLKz"},{"type":"heading","depth":2,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"1. Apply for access to the Nimbus Access","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"cTWQbRgAq6"}],"identifier":"id-1-apply-for-access-to-the-nimbus-access","label":"1. Apply for access to the Nimbus Access","html_id":"id-1-apply-for-access-to-the-nimbus-access","implicit":true,"key":"MnfOhAbUIO"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"Please fill out ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"tpMswQ6yPW"},{"type":"link","url":"https://forms.gle/h8y14hfefcaCraEJ8","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"this form","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"yudbtqFyFl"}],"urlSource":"https://forms.gle/h8y14hfefcaCraEJ8","key":"pLmtTTeUTA"},{"type":"text","value":" to request access to the Nimbus Jupyterhub!","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"TTNhaIXPHc"}],"key":"W6E6TCQm6s"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"You will be added to the ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"NPInGfcWmF"},{"type":"link","url":"https://github.com/orgs/esgf-nimbus/people","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Nimbus User Group","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"Prz47fRKUJ"}],"urlSource":"https://github.com/orgs/esgf-nimbus/people","error":true,"key":"pX1AQPrhFk"},{"type":"text","value":", which is used for authentication!","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"QGQp8eVUEr"}],"key":"mgihCwhsxP"},{"type":"heading","depth":2,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"2. Clone this repository","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"OosduMINlo"}],"identifier":"id-2-clone-this-repository","label":"2. Clone this repository","html_id":"id-2-clone-this-repository","implicit":true,"key":"uayEpy6wTT"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Once you log into the Jupyterhub (","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"SJz9zWvWri"},{"type":"link","url":"https://nimbus.llnl.gov/","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"https://​nimbus​.llnl​.gov/","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Y0fA9ScZLg"}],"urlSource":"https://nimbus.llnl.gov/","key":"wk5rsQ5W0e"},{"type":"text","value":"), go to your home directory (shown by default) and clone this repository","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"ZoXLBukY4n"}],"key":"Z58XKrjHMq"},{"type":"code","lang":"bash","value":"git clone https://github.com/ProjectPythia/esgf-cookbook.git","position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"key":"KHL06rPbk9"},{"type":"heading","depth":2,"position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"3. Build your Execution Environment","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"o9otPl6bbo"}],"identifier":"id-3-build-your-execution-environment","label":"3. Build your Execution Environment","html_id":"id-3-build-your-execution-environment","implicit":true,"key":"Dr8RvqNwCE"},{"type":"paragraph","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"The cookbook environment is slightly different than the base environment available on the hub. You will need to build the required environment, using the ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"EbC4a3mvo3"},{"type":"inlineCode","value":"environment.yml","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"eXoVeussGw"},{"type":"text","value":" file in the repository.","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"mSMJlOBh8D"}],"key":"XL8jfNxpOg"},{"type":"code","lang":"bash","value":"conda env create -f esgf-cookbook/environment.yml","position":{"start":{"line":22,"column":1},"end":{"line":24,"column":1}},"key":"zEFsbpeFch"},{"type":"heading","depth":2,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Activate Your Environment","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"dT1QRhXZE1"}],"identifier":"activate-your-environment","label":"Activate Your Environment","html_id":"activate-your-environment","implicit":true,"key":"GhHLkZyIBd"},{"type":"paragraph","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"children":[{"type":"text","value":"Once you build the enivronment, you will need to activate it. You will need to follow the following steps:","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"PsRYPdoZoS"}],"key":"kdKEtUu0gg"},{"type":"code","lang":"bash","value":"# Make sure you can activate the environment\nsource .bashrc\n\n# Activate the environment\nconda activate esgf-cookbook-dev","position":{"start":{"line":29,"column":1},"end":{"line":35,"column":1}},"key":"I3mW7PLqOn"},{"type":"heading","depth":2,"position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"children":[{"type":"text","value":"Open a Notebook and Select the ","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"M09bcCDyd5"},{"type":"inlineCode","value":"esgf-cookbook-dev","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"VAnfVuVd6y"},{"type":"text","value":" environment","position":{"start":{"line":37,"column":1},"end":{"line":37,"column":1}},"key":"GnrxIDPdyR"}],"identifier":"open-a-notebook-and-select-the-esgf-cookbook-dev-environment","label":"Open a Notebook and Select the esgf-cookbook-dev environment","html_id":"open-a-notebook-and-select-the-esgf-cookbook-dev-environment","implicit":true,"key":"MlebuFAXWV"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Now that you have an environment, you can select this when opening a notebook. Select in the top right corner the kernel options, and select ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"m0yVxAuDop"},{"type":"inlineCode","value":"esgf-cookbook-dev","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"DGhHDpJQ9a"},{"type":"text","value":".","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"SPBaKZeBuG"}],"key":"urWTy36Zza"},{"type":"paragraph","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"Wait a second for the notebook to pick up on this, then execute your cells!","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"tVe8T7Jn3n"}],"key":"xCgGe66ZED"},{"type":"paragraph","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"text","value":"If you need to install more packages, or update versions, you can do so by updating your ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"CwQ2Ynhm7p"},{"type":"inlineCode","value":"environment.yml","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"ID3zGPQdfL"},{"type":"text","value":" file or by installing via the command line.","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"XYtbhPMFmJ"}],"key":"n8gMKfXUMK"}],"key":"qa6WcvQoSz"}],"key":"ITir4mXVRD"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"How to Cite This Cookbook","url":"/notebooks/how-to-cite","group":"Preamble"},"next":{"title":"Introduction to intake-esgf","url":"/notebooks/intro-search","group":"Searching"}}},"domain":"http://localhost:3000"}